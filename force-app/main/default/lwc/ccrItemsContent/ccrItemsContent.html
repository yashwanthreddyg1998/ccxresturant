<template>
    <!--Items Content !-->
    <lightning-card>
        
       
    <!--Add Items-->
            <div class="p1">
            <lightning-button variant="brand" label="Add Items"  onclick={showModalBox} 
            ></lightning-button>&nbsp;&nbsp;&nbsp;&nbsp;
            
            <lightning-button variant="brand" label="Display Items" onclick={showComp1} 
            ></lightning-button> 
            <br/>
        </div>
        
        <br/>
            <template if:true={isShowModal}>
                                  
                    <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" 
                                                aria-modal="true" aria-describedby="modal-content-id-1" 
                                                class="slds-modal slds-fade-in-open">
                            <div class="slds-modal__container">
                                <header class="slds-modal__header">
                                    <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={hideModalBox}>
                                        <lightning-icon icon-name="utility:close"
                                                    alternative-text="close"
                                                    variant="inverse"
                                                    size="small" ></lightning-icon>
                                        <span class="slds-assistive-text">Close</span>
                                    </button>
                                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Add Multiple Items</h2>
                                 </header>
                                         
                                          <!-- modal body start -->
                                 <c-add-items if:true={isShowModal}></c-add-items>
                                          <!-- modal footer start-->
                                <footer class="slds-modal__footer">
                                        <button class="slds-button slds-button_neutral" onclick={hideModalBox}>Close</button>
                                </footer>
                                        
                            </div>
                    </section>
                          
                    <div class="slds-backdrop slds-backdrop_open"></div>
            </template>
                            
            
            
            
            
<!--Display Items-->
<br/>
  
<template if:true={showModalBox1}>
    <div > 
        <lightning-layout class="text" multiple-rows>
            <lightning-layout-item padding="around-small" size="12" small-device-size="12" medium-device-size="2">  
                <label for="id" style="font-size: 14px;font-weight:bold;">Category</label>    
                <lightning-combobox fieldid="id" options={options1} onchange={handleKeyChange}  label="Category" variant="label-hidden" >  
                  </lightning-combobox> 
            </lightning-layout-item> 

            <lightning-layout-item for="id" padding="around-small" size="12" small-device-size="12" medium-device-size="2">   
                <label style="font-size: 14px;font-weight:bold;">Sub Category</label>   
              <lightning-combobox fieldid="id" variant="label-hidden" options={options2} onchange={handleKeyChange1}  label="SubCategory"  >  
                </lightning-combobox>
          </lightning-layout-item>

          <lightning-layout-item padding="around-small" size="12" small-device-size="12" medium-device-size="2">
            <label style="font-size: 14px;font-weight:bold;">Item Name</label>
            <lightning-input fieldid="id" variant="label-hidden" type="text" label="Enter Item Name" onkeydown={handleKeyChange2}></lightning-input>
          </lightning-layout-item>

          <lightning-layout-item padding="around-small" size="12" small-device-size="12" medium-device-size="2">
            <label style="font-size: 14px;font-weight:bold;">Item Price</label>
            <lightning-input fieldid="id" variant="label-hidden" type="number" label="Enter Item Price" onkeyup={handleKeyChange3}></lightning-input>
          </lightning-layout-item>
      </lightning-layout>
    </div>
    <div class="backgroundImg" >
        
    <div class="slds-grid slds-wrap">
        <template for:each={records} for:item="itm">
            <div key={itm.Id} class="slds-col slds-size_1-of-2 slds-p-around_medium">
                   
                <lightning-card title={itm.CCXR_Item_Name__c} >
                            
                    <lightning-button label="Delete " variant="destructive" style="font-weight:bolder;font-size:14px;"
                    onclick={handleDelete} value={itm.Id} slot="actions" class="slds-p-left_large"></lightning-button>
                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                   
                    <lightning-button label="Edit " variant="Success" style="font-weight:bolder;font-size:14px;"
                     onclick={handleUpdate} value={itm.Id}  slot="actions" class="slds-p-left_large"></lightning-button>

                    <div class="slds-grid slds-no-flex" style="font-weight:bolder;font-size:14px;">
                        &nbsp;&nbsp;
                        <div class="slds-size_1-of-2"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <img 
                                             src={itm.Item_Image_Link__c}
                                             alt=" " 
                                             height="100px" 
                                             width="180px"/><br/>
                             
                        </div>
                        <div class="slds-size_1-of-2">
                                    <b>Name : {itm.CCXR_Item_Name__c}</b><br/>
                                    <b>Status</b>  : {itm.CCXR_Item_Status__c}<br/> 
                                    <b>Serves</b>: {itm.CCXR_Serves__c}<br>
                                   <!-- <b>Estimation Time </b>: {contact.CCXR_Item_Prep_Time__c}<br>
                                  
                                <b>Description</b>  : {itm.CCXR_Description__c}<br/>-->
                        </div>  
                        
                    </div>
                    <p slot="footer" style="font-weight:bolder;font-size:14px;">
                                <b>
                                    Price : <lightning-icon icon-name="custom:custom17"
                                         alternative-text="Event"
                                        size="xx-small"></lightning-icon>{itm.CCXR_Price__c}
                                </b>
                            
                    </p>  
                </lightning-card>
            </div>       
        </template>
    </div>
   </div>
</template>  

    </lightning-card>
</template>